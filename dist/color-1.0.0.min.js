/*!
Color v1.0.0
http://rainersu.github.io/color
Just a JavaScript library for all kinds of color manipulations.
(c) 2015 Rainer Su( rainersu@foxmail.com | http://cn.linkedin.com/in/rainersu | QQ: 2627001536 )
*/

!function(a,b){"function"==typeof define&&define.amd?define([],function(){return b()}):"object"==typeof exports?module.exports=b():b()}(this,function(){function a(a){return s.prototype.toString.call(a).split(/\W+/)[2].toLowerCase()}function b(a){return a.toLowerCase().replace(/a$/,"")}function c(a,b){for(var c in b)F.call(b,c)&&(a[c]=b[c])}function d(b,c){b=+b;var d=a(c);return"array"===d?v(c[1],u(c[0],b)):c&&"number"===d&&(b%=c)<0?b+c:b}function e(a,b){for(var c=b.length;c--;)a[c]=d(a[c],b[c]);return a}function f(){return this.css()}function g(a,b){for(var c,d,e=b*x/180,f=h(a),g=f.length,i=[];g--;)c=f[g],d=c[1]/(B(e)-c[0]*A(e)),d>=0&&i.unshift(d);return v.apply(t,i)}function h(a){for(var b,c,d,e,f,g=[],h=w(a+16,3)/1560896,i=h>U?h:a/T,j=3;j--;)for(f=Q[j],c=f[0],d=f[1],e=f[2],b=2;b--;)f=(632260*e-126452*d)*i+126452*b,g.unshift([(284517*c-94839*e)*i/f,((838422*e+769860*d+731718*c)*a*i-769860*b*a)/f]);return g}function i(a){for(var b,c,d,e=[],f=h(a),g=f.length;g--;)b=f[g],c=b[0],d=b[1],b=d/(-1/c-c),e[g]=z(w(b,2)+w(d+b*c,2));return v.apply(t,e)}function j(a,b){for(var c=0,d=0,e=0,f=a.length-1;f>=0?f>=e:e>=f;c=f>=0?++e:--e)d+=a[c]*b[c];return d}function k(a,b){return function(){return b=b||"rgba",new m(a.apply(this,this.color(b).concat(slice.call(arguments))),b)}}function l(a,b){return function(c,d){return this.value($[b||0],a||0,c,d)}}function m(a,b){return this instanceof m?a instanceof m?b?a.clone():a:(this.alpha=100,this.color(b,a)):new m(a,b)}function n(b,c,d){if(!(this instanceof n))return new n(b,c,d);this.cache={},"array"!==a(b)&&(b=slice.call(arguments),c=0);for(var e=b.length;e--;)this.stuff(b[e],c&&c[e]||1);d=+d,this.alpha=d===d?d:100}function o(a,b,c){a[b]=new m(c).color("rgba")}function p(a,b){return a-b}function q(b,c){if(!(this instanceof q))return new q(b,c);"array"!==a(b)?(b=slice.call(arguments),c=[]):c=slice.call(c||[]);for(var d=b.length,e=100,f=e/(d-1),g={};d--;)o(g,c[d]=F.call(c,d)?c[d]:f*d,b[d]);this.stops=c.sort(p),this.cache=g}var r={},s=Object,t=Math,u=t.max,v=t.min,w=t.pow,x=t.PI,y=t.atan2,z=t.sqrt,A=t.cos,B=t.sin,C=t.abs,D=t.log,E=t.round,F=s.prototype.hasOwnProperty,G=s.keys||function(a){var b,c=[];for(b in a)F.call(a,b)&&c.push(b);return c},H=[0,255],I=[0,100],J=360,K=null,L=[H,H,H],M=[J,I,I],N=[K,K,K],O={rgb:L,hsl:M,hsv:M,hwb:M,xyz:N,xyy:N,luv:N,lab:N,lch:[K,K,J],husl:M,huslp:N,ryb:L,ycbcr:L,ypbpr:N,ycgco:N,ydbdr:N,yiq:N,yuv:L,cmy:[I,I,I],cmyk:[I,I,I,I],hsi:"hsl",hsb:"hsv",yxy:"xyy",ciexyz:"xyz",cieluv:"luv",cielab:"lab",ycocg:"ycgco"};O.lchab=O.cielch=O.cielchuv=O.cielchab="lch";var P={black:"#000000",silver:"#c0c0c0",gray:"#808080",white:"#ffffff",maroon:"#800000",red:"#ff0000",purple:"#800080",fuchsia:"#ff00ff",green:"#008000",lime:"#00ff00",olive:"#808000",yellow:"#ffff00",navy:"#000080",blue:"#0000ff",teal:"#008080",aqua:"#00ffff",orange:"#ffa500",aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",blanchedalmond:"#ffe4c4",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",limegreen:"#32cd32",linen:"#faf0e6",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",oldlace:"#fdf5e6",olivedrab:"#6b8e23",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",whitesmoke:"#f5f5f5",yellowgreen:"#9acd32",rebeccapurple:"#663399",tiffanyblue:"#60DFE5"},Q=[[3.240969941904521,-1.537383177570093,-.498610760293],[-.96924363628087,1.87596750150772,.041555057407175],[.055630079696993,-.20397695888897,1.056971514242878]],R=[[.41239079926595,.35758433938387,.18048078840183],[.21263900587151,.71516867876775,.072192315360733],[.019330818715591,.11919477979462,.95053215224966]],S=[.95047,1,1.08883],T=903.2962962,U=.0088564516,V=.19783000664283,W=.46831999493879,X={rgb2ryb:function(a){var b=v.apply(t,a),c=a[0]-b,d=a[1]-b,e=a[2]-b,f=u(c,d,e),g=v(c,d);return c-=g,d-=g,e&&d&&(e/=2,d/=2),g+=d,e+=d,d=u(c,g,e),f=d?f/d:1,[c*f+b,g*f+b,e*f+b]},ryb2rgb:function(a){var b=v.apply(t,a),c=a[0]-b,d=a[1]-b,e=a[2]-b,f=u(c,d,e),g=v(d,e);return d-=g,e-=g,e&&g&&(e*=2,g*=2),c+=d,g+=d,d=u(c,g,e),d=d?f/d:1,[c*d+b,g*d+b,e*d+b]},rgb2hsl:function(a){var b=a[0]/255,c=a[1]/255,d=a[2]/255,e=v(b,c,d),f=u(b,c,d),g=f-e,h=e===f?0:b===f?(c-d)/g:c===f?(d-b)/g+2:(b-c)/g+4,i=(e+f)/2,j=f===e?0:g/(.5>=i?f+e:2-f-e);return[60*h,100*j,100*i]},hsl2rgb:function(a){for(var b=a[0]/60,c=a[1]/100,d=a[2]/100,e=.5>=d?d*c+d:d+c-d*c,f=2*d-e,g=[b+2,b,b-2],h=3;h--;)b=g[h]%6,0>b&&(b+=6),g[h]=255*(1>b?(e-f)*b+f:3>b?e:4>b?(e-f)*(4-b)+f:f);return g},rgb2hsv:function(a){var b=a[0],c=a[1],d=a[2],e=v(b,c,d),f=u(b,c,d);return[X.rgb2hsl(a)[0],f?100-100*e/f:0,100*f/255]},hsv2rgb:function(a){var b=a[0]/60,c=a[1]/100,d=a[2]/100*255,e=~~b,f=d*c,g=b-e,h=d-f,i=d-f*g,j=d-f+f*g,k=e%6;return k>4?[d,h,i]:k>3?[j,h,d]:k>2?[h,i,d]:k>1?[h,d,j]:k?[i,d,h]:[d,j,h]},rgb2yuv:function(a){var b=a[0],c=a[1],d=a[2],e=.299*b+.587*c+.114*d;return[e,(.493*(d-e)+111)/222*255,(.877*(b-e)+155)/312*255]},yuv2rgb:function(a){var b=a[0],c=a[1]/255*222-111,d=a[2]/255*312-155;return[b+d/.877,b-.39466*c-.5806*d,b+c/.493]},rgb2cmy:function(a){for(var b=3,c=[];b--;)c[b]=100*(1-a[b]/255);return c},cmy2rgb:function(a){for(var b=3,c=[];b--;)c[b]=255*(1-a[b]/100);return c},rgb2cmyk:function(a){var b=a[0],c=a[1],d=a[2],e=u(b,c,d)/255,f=a.slice(),g=3;for(f[g]=100-100*e;g--;)f[g]=e?100*(1-f[g]/255/e):0;return f},cmyk2rgb:function(a){for(var b=a[3]/100,c=1-b,d=a.slice(0,3),e=3;e--;)d[e]=255*(1-v(1,d[e]*c/100+b));return d},rgb2yiq:function(a){var b=a[0]/255,c=a[1]/255,d=a[2]/255;return[.299*b+.587*c+.114*d,.596*b-.274*c-.322*d,.211*b-.523*c+.312*d]},yiq2rgb:function(a){var b=a[0],c=a[1],d=a[2];return[255*(b+.956*c+.621*d),255*(b-.272*c-.647*d),255*(b-1.106*c+1.703*d)]},rgb2ycgco:function(a){var b=a[0]/255,c=a[1]/255,d=a[2]/255;return[b/4+c/2+d/4,c/2-b/4-d/4,b/2-d/2]},ycgco2rgb:function(a){var b=255*a[0],c=255*a[1],d=255*a[2],e=b-c;return[e+d,b+c,e-d]},rgb2ydbdr:function(a){var b=a[0]/255,c=a[1]/255,d=a[2]/255;return[.299*b+.587*c+.114*d,1.333*d-.45*b-.883*c,.217*d+1.116*c-1.333*b]},ydbdr2rgb:function(a){var b=a[0],c=a[1],d=a[2];return[255*(b+92303716148e-15*c-.525912630661865*d),255*(b-.129132898890509*c+.267899328207599*d),255*(b+.664679059978955*c-79202543533e-15*d)]},rgb2ypbpr:function(a){var b=a[0],c=a[1],d=a[2],e=.2126*b+.7152*c+.0722*d;return[e,d-e,b-e]},ypbpr2rgb:function(a){var b=a[0],c=a[2]+b,d=a[1]+b;return[c,(b-.0722*d-.2126*c)/.7152,d]},rgb2ycbcr:function(a){var b=a[0],c=a[1],d=a[2];return[.299*b+.587*c+.114*d,128-.168736*b-.331264*c+.5*d,128+.5*b-.418688*c-.081312*d]},ycbcr2rgb:function(a){var b=a[0],c=a[1],d=a[2],e=d-128,f=c-128;return[b+1.402*e,b-.34414*f-.71414*e,b+1.772*f]},rgb2xyz:function(a){for(var b,c=3,d=.055,e=[];c--;)b=a[c]/255,e[c]=b>.04045?w((b+d)/(1+d),2.4):b/12.92;for(b=[],c=3;c--;)b[c]=j(R[c],e);return b},xyz2rgb:function(a){for(var b,c=[],d=3;d--;)b=j(Q[d],a),c[d]=255*(.0031308>=b?12.92*b:1.055*w(b,1/2.4)-.055);return c},rgb2hwb:function(a){var b=a[0],c=a[1],d=a[2],e=100/255;return[X.rgb2hsl(a)[0],e*v(b,v(c,d)),100-e*u(b,u(c,d))]},hwb2rgb:function(a){var b=a[1]/100,c=a[2]/100,d=3,e=X.hsl2rgb([a[0],100,50]);for(c=1-b-c,b*=255;d--;)e[d]=e[d]*c+b;return e},hsv2hwb:function(a){return[a[0],a[2]*(100-a[1])/100,100-a[2]]},hwb2hsv:function(a){return[a[0],100-a[1]/(1-a[2]/100),100-a[2]]},rgb2xyy:function(a){return X.xyz2xyy(X.rgb2xyz(a))},xyz2xyy:function(a){var b=a[0],c=a[1],d=b+c+a[2];return d?[b/d,c/d,c]:[0,0,c]},xyy2rgb:function(a){return X.xyz2rgb(X.xyy2xyz(a))},xyy2xyz:function(a){var b=a[0],c=a[1],d=a[2];return c?[b*d/c,d,(1-b-c)*d/c]:[0,0,0]},rgb2lab:function(a){return X.xyz2lab(X.rgb2xyz(a))},xyz2lab:function(a){for(var b,c=3;c--;)b=a[c]/S[c],a[c]=b>U?w(b,1/3):7.787*b+16/116;return c=a[0],b=a[1],a=a[2],[116*b-16,500*(c-b),200*(b-a)]},lab2rgb:function(a){return X.xyz2rgb(X.lab2xyz(a))},lab2xyz:function(a){var b=a[0],c=a[1],d=a[2],e=(b+16)/116,f=c/500+e,g=e-d/200;for(c=[f,e,g],b=3;b--;)f=w(d=c[b],3),c[b]=(f>U?f:(d-16/116)/7.787)*S[b];return c},rgb2luv:function(a){return X.xyz2luv(X.rgb2xyz(a))},xyz2luv:function(a){var b=a[0],c=a[1],d=b+15*c+3*a[2],e=U>=c?c*T:116*w(c,1/3)-16;return e?[e,13*e*(4*b/d-V),13*e*(9*c/d-W)]:[0,0,0]},luv2rgb:function(a){return X.xyz2rgb(X.luv2xyz(a))},luv2xyz:function(a){if(!a[0])return[0,0,0];var b=a[0],c=a[1],d=a[2],e=c/(13*b)+V,f=d/(13*b)+W,g=8>=b?b/T:w((b+16)/116,3),h=0+9*g*e/4/f;return[h,g,(9*g-15*f*g-f*h)/(3*f)]},rgb2lch:function(a){return X.luv2lch(X.rgb2luv(a))},luv2lch:function(a){var b=a[1],c=a[2];return[a[0],w(w(b,2)+w(c,2),.5),180*y(c,b)/x]},lch2rgb:function(a){return X.luv2rgb(X.lch2luv(a))},lch2luv:function(a){var b=a[1],c=a[2]/360*2*x;return[a[0],A(c)*b,B(c)*b]},rgb2husl:function(a){return X.lch2husl(X.rgb2lch(a))},lch2husl:function(a){var b=a[0],c=a[2];return[c,b>0&&100>b?a[1]/g(b,c)*100:0,b]},husl2rgb:function(a){return X.lch2rgb(X.husl2lch(a))},husl2lch:function(a){var b=a[0],c=a[2];return[c,c>0&&100>c?g(c,b)/100*a[1]:0,b]},rgb2huslp:function(a){return X.lch2huslp(X.rgb2lch(a))},lch2huslp:function(a){var b=a[0],c=a[2];return[c,b>0&&100>b?a[1]/i(b)*100:0,b]},huslp2rgb:function(a){return X.lch2rgb(X.huslp2lch(a))},huslp2lch:function(a){var b=a[0],c=a[2];return[c,c>0&&100>c?i(c)/100*a[1]:0,b]}},Y={multiply:function(a,b){return b*a/255},screen:function(a,b){return a+b-a*b/255},overlay:function(a,b){return 128>a?2*b*a/255:255-2*(255-a)*(255-b)/255},negate:function(a,b){return 255-C(255-a-b)},difference:function(a,b){return C(a-b)},average:function(a,b){return(a+b)/2},exclusion:function(a,b){return a+b-2*a*b/255},hardlight:function(a,b){return Y.overlay(b,a)},softlight:function(a,b){a/=255,b/=255;var c=1,d=a;return b>.5&&(d=1,c=a>.25?z(a):((16*a-12)*a+4)*a),255*(a-(1-2*b)*d*(c-a))},darken:function(a,b){return v(a,b)},lighten:function(a,b){return u(a,b)},addition:function(a,b){return a+b},subtract:function(a,b){return a-b},subtractive:function(a,b){return a+b-255},combine:function(a,b){return a^b},dodge:function(a,b){return 255===a?a:v(255,(b<<8)/(255-a))},burn:function(a,b){return 0===a?a:u(0,255-(255-b<<8)/a)}},Z=[/./,/^hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)$/i,/^rgba?\(\s*(\d+(?:\.\d+)?)(\%?)\s*,\s*(\d+(?:\.\d+)?)(\%?)\s*,\s*(\d+(?:\.\d+)?)(\%?)\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)$/i,/^#([a-f0-9])([a-f0-9])([a-f0-9])(?:([a-f0-9])([a-f0-9])([a-f0-9]))?$/i],$=["hsl","hsv","hwb","rgb"],_=k(function(a,b,c,d,e){var f=e?255*this.luminance(e-1):.3*a+.59*b+.11*c;return[f,f,f,d]});return c(m,{keywords:P,spaces:O,support:function(a){return F.call(O,b(a))},isColor:function(b){if("string"===a(b))for(var c=Z.length;c--;)if(c?Z[c].test(b):b in P)return!0;return b&&b instanceof m},temperature:function(a){return a/=100,new m([66>=a?255:329.698727446*w(a-60,-.1332047592),66>=a?99.4708025861*D(a)-161.1195681661:288.1221695283*w(a-60,-.0755148492),a>=66?255:19>=a?0:138.5177312231*D(a-10)-305.0447927307])},grayscale:function(a,b){return a=b?255*a:a,new m([a,a,a])}}),c(m.prototype,{toJSON:f,toString:f,clone:function(){var a=this.space+"a";return new m(this.color(a),a)},equal:function(a){return this.css(1,1)===new m(a).css(1,1)},value:function(a,c,e,f){e=+e;var g=O[b(a)],h=g.length,i=c>=h,j=this.color(a+"a"),k=j[c=i?h:c];return e===e&&(e=j[c]=d(f?k+e:e,i?[0,100]:g[c]),k!==e&&this.color(a,j),k=this),k},opacity:function(a,b){a=+a;var c=this.alpha;return a===a&&(this.alpha=d(b?c+a:a,[0,100]),c=this),c},color:function(c,d){var f,g=Z.length,h=g,i=this,j=this.space,k=this.cache||{},l=/a$/.test(c="string"===a(c)&&c.toLowerCase()||"rgb");if("string"===a(f=O[c=l?b(c):c])&&(f=O[c=f]),d){if("string"===a(d)){for(d=d.toLowerCase();g--;)if(j=Z[g].exec(d)){if(g){g>1?(c="rgb",l=j[6],d=g>2?[parseInt(l?j[1]+j[2]:j[1]+j[1],16),parseInt(l?j[3]+j[4]:j[2]+j[2],16),parseInt(l?j[5]+l:j[3]+j[3],16)]:[l?2.55*j[1]:j[1],l?2.55*j[3]:j[3],l?2.55*j[5]:j[5],j[7]]):(c="hsl",d=j.slice(1,5)),f=O[c],isNaN(d[3]*=100)&&d.pop();break}d=P[d],d&&(g=h)}}else d=Z.slice.call(d);e(d,f).length>f.length&&this.opacity(d.pop()),(j=k[c])&&""+j==""+d||((this.cache={})[c]=d)}else k[c]||(g=k[j],h=X[j+"2"+c],k[c]=e(h?h(g):X["rgb2"+c](e(X[j+"2rgb"](g),O.rgb)),f)),i=k[c].slice(),l&&i.push(this.opacity());return this.space=c,i},css:function(b,c){if("string"===a(b))return this.color(0,b);b=1+b?~~b:1,c=1+c?c:this.alpha<100;for(var d,e=(b>1?"hsl":"rgb")+(c&&b?"a":""),f=this.color(e),g=f.length;g--;)d=E(f[g]),f[g]=g>2?d/100:b?b>1&&g?d+"%":d:d.toString(16).replace(/^.$/,"0$&");return b?e+"("+f+")":"#"+f.join("").toUpperCase()},ieFilter:function(){return this.css(0).replace("#","#"+d(E(2.55*this.alpha),[0,255]).toString(16).replace(/^.$/,"0$&").toUpperCase())},web:function(a,b){a=a?17:51;for(var c=this.color("rgba"),d=3;d--;)c[d]=((c[d]+a/2)/a>>0)*a;return c=new m(c),b?c:c.css(0)},luminance:function(a){a=+a,a!==a&&(a=1);for(var b,c=this.color("rgb"),d=c.length;d--;)b=c[d]/255,c[d]=a?b:.03928>=b?b/12.92:w((b+.055)/1.055,2.4);return.2126*c[0]+.7152*c[1]+.0722*c[2]},luma:function(){return(255*this.color("yiq")[0]).toFixed()},contrast:function(a){a=m(a).luminance()+.05;var b=this.luminance()+.05;return b>a?b/a:a/b},difference:function(a){a=m(a).color("rgb");for(var b,c=this.color("rgb"),d=[299,587,114],e=3,f=0,g=0;e--;)b=a[e]-c[e],f+=d[e]*b,g+=C(b);return f=C(f)/1e3,[f,g,(f>125)+(g>500)]},hue:l(0),saturation:l(1),lightness:l(2),chroma:l(1,1),brightness:l(2,1),whiteness:l(1,2),blackness:l(2,2),invert:k(function(a,b,c,d){return[255^a,255^b,255^c,d]}),sepia:k(function(a,b,c,d){return[.393*a+.769*b+.189*c,.349*a+.686*b+.168*c,.272*a+.534*b+.131*c,d]}),greyscale:function(a){return a>2?this.clone().saturation(0):_.call(this,a)},complement:function(){return this.clone().hue(180,!0)},mix:function(a,b,c){a=new m(a).color("rgba");var b=isNaN(b)?.5:b/100,d=2*b-1,e=this.color("rgba"),f=c?(e[3]-a[3])/100:0,g=((d*f==-1?d:(d+f)/(1+d*f))+1)/2,h=1-g;return new m([e[0]*g+a[0]*h,e[1]*g+a[1]*h,e[2]*g+a[2]*h,c?e[3]*b+a[3]*(1-b):e[3]])},blend:function(a,b){var c=this.color("rgba"),d=[,,,c[3]],e=4;a=new m(a).color("rgba"),b in Y&&(b=Y[b]);for(e=3;e--;)d[e]=b(c[e],a[e]);return new m(d)},tint:function(a){return new m([255,255,255,this.alpha]).mix(this,a)},shade:function(a){return new m([0,0,0,this.alpha]).mix(this,a)},tone:function(a,b){return this.greyscale(b).mix(this,a)},match:function(a,b){return 100*C(this.luminance()-new m(a).luminance())>(1+b?b:50)},mate:function(b){for(var c,d,e="array"===a(b)?b:b?slice.call(arguments):["#000","#FFF"],f=e.length,g=this.luminance(),h=0,i=e[0];f--;)d=new m(e[f]),c=C(d.luminance()-g),c>h&&(h=c,i=d);return i},opaque:function(a,b){return a=this.mix(a,this.alpha),a.alpha=100,b?a.css(0):a}}),r.Color=m,c(n.prototype,{toJSON:f,toString:f,stuff:function(a,b,c){a=new m(a,1);var d=a.css(0),e=this.cache[d],f=e?e.ratio:0;return b=+b,b=b!==b?1:~~b,b=u(c?b+f:b,0),b!==f&&(e=a,e.ratio=b,this.cache[d]=e,this.total=this.value=null),this},ratio:function(a,b){var c=0;return a=this.cache[new m(a).css(0)],a&&(c=a.ratio)&&b&&(this.total||this.mix(),c=E(100*c/this.total)),c},mix:function(){var a,b,c,d=this.cache,e=[],f=[],g=0,h=this.value;if(!h){h=[0,0,0];for(c in d)F.call(d,c)&&d[c]&&(c=d[c],a=c.ratio,a&&(g+=a,f.push(a),e.push(c.color())));for(this.total=g,c=f.length;c--;)for(a=f[c]/g,d=e[c],b=3;b--;)h[b]+=a*d[b];this.value=h}return new m(h.concat(this.alpha))},css:function(a,b){return this.mix().css(a,b)}}),r.Palette=n,c(q.prototype,{toJSON:f,toString:f,point:function(a,b){a=+a;var c=this.cache;return b?o(c,a,b):delete c[a],this.stops=G(c).sort(p),this},scale:function(a,b){a=+a;var c,e,f=this.cache,g=this.stops,h=g.length,i=+g[0],j=+g[h-1],k=f[a=d(b?a*(j-i)/100+i:a,[i,j])];if(!k){for(;h--&&(c=+g[h],h&&!(a>c));e=+g[h]);for(k=[],g=e-c,i=a-c,j=e-a,c=f[c],e=f[e],h=4;h--;)k[h]=(c[h]*j+e[h]*i)/g}return new m(k)},ieFilter:function(a){var b=this.cache,c=this.stops;return'progid:DXImageTransform.Microsoft.gradient(enabled="true", startColorstr="'+new m(b[c[0]]).ieFilter()+'", endColorstr="'+new m(b[c[c.length-1]]).ieFilter()+'", gradientType="'+ +!!a+'")'},css:function(a,b,c){for(var d,e=")",f=this.cache,g=this.stops,h=g.length,i=h-1,j=g[0],k=g[i],l=k-j;h--;)d=g[h],e=", "+new m(f[d]).css(+!c)+(h&&i>h?" "+E((d-j)/l*100)+"%":"")+e;return(a?"radial":"linear")+"-gradient("+(b||"0deg")+e},map:function(a,b){var c,d=u(a=+a,b=+b),e=v(a,b)||0,f=this.cache,g=this.stops,h=g.length,i=[],j={};for(a=g[0],b=g[h-1]-a,d=(d!==d?100:d)-e;h--;)c=g[h],j[i[h]=(c-a)*d/b+e]=f[c];return this.stops=i,this.cache=j,this}}),r.Gradient=q,r});
//# sourceMappingURL=color-1.0.0.min.js.map